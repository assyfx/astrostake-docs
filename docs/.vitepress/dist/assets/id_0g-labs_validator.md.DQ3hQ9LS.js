import{_ as o,C as i,c as d,o as c,aj as l,G as n,w as e,j as a}from"./chunks/framework.wTHDseTJ.js";const _=JSON.parse('{"title":"Validator Node","description":"","frontmatter":{},"headers":[],"relativePath":"id/0g-labs/validator.md","filePath":"id/0g-labs/validator.md"}'),u={name:"id/0g-labs/validator.md"};function r(h,s,g,k,b,m){const t=i("PluginTabsTab"),p=i("PluginTabs");return c(),d("div",null,[s[3]||(s[3]=l(`<h1 id="validator-node" tabindex="-1">Validator Node <a class="header-anchor" href="#validator-node" aria-label="Permalink to &quot;Validator Node&quot;">‚Äã</a></h1><p>Panduan ini akan bantu kamu untuk setup Validator Node di jaringan 0G Labs.<br> Untuk dokumentasi resmi, cek <a href="https://docs.0g.ai/run-a-node/validator-node" target="_blank" rel="noreferrer">di sini.</a></p><h2 id="kebutuhan" tabindex="-1">Kebutuhan <a class="header-anchor" href="#kebutuhan" aria-label="Permalink to &quot;Kebutuhan&quot;">‚Äã</a></h2><ul><li>CPU: 8 Core</li><li>Memori: 64 GB RAM</li><li>Penyimpanan: 1 TB NVME</li><li>Bandwidth: 100 Mbps (Download / Upload)</li></ul><h2 id="instalasi" tabindex="-1">Instalasi <a class="header-anchor" href="#instalasi" aria-label="Permalink to &quot;Instalasi&quot;">‚Äã</a></h2><p><strong>1. Install dependency</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo apt update &amp;&amp; sudo apt upgrade -y</span></span>
<span class="line"><span>sudo apt install curl git wget htop tmux build-essential jq make lz4 gcc unzip -y</span></span></code></pre></div><div class="highlight"><h3 id="_2-auto-install-script-dari-itrocket-üöÄ" tabindex="-1">2. Auto-install script dari ITRocket üöÄ <a class="header-anchor" href="#_2-auto-install-script-dari-itrocket-üöÄ" aria-label="Permalink to &quot;2. Auto-install script dari ITRocket üöÄ&quot;">‚Äã</a></h3><p>Cepat, stabil, dan langsung to the point ‚Äî seperti yang biasa kita suka di <strong>AstroStake</strong>.</p><p><em>Kenapa harus buat dari nol kalau udah ada yang rapi dan terbukti?</em><br><strong>Terima kasih banyak buat <a href="https://itrocket.net" target="_blank" rel="noreferrer">ITRocket</a> yang bikin semuanya simpel dan praktis!</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://itrocket.net/api/testnet/og/autoinstall/)</span></span></code></pre></div></div><p><strong>3. Setup Wallet</strong></p>`,9)),n(p,null,{default:e(()=>[n(t,{label:"Buat Wallet"},{default:e(()=>s[0]||(s[0]=[a("p",null,"Untuk membuat wallet baru, gunakan perintah ini. Jangan lupa simpan mnemonic-nya!",-1),a("div",{class:"language- vp-adaptive-theme"},[a("button",{title:"Copy Code",class:"copy"}),a("span",{class:"lang"}),a("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[a("code",null,[a("span",{class:"line"},[a("span",null,"0gchaind keys add $WALLET")])])])],-1)])),_:1}),n(t,{label:"Pulihkan Wallet"},{default:e(()=>s[1]||(s[1]=[a("p",null,"Kalau sudah punya wallet sebelumnya:",-1),a("div",{class:"language- vp-adaptive-theme"},[a("button",{title:"Copy Code",class:"copy"}),a("span",{class:"lang"}),a("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[a("code",null,[a("span",{class:"line"},[a("span",null,"0gchaind keys add $WALLET --recover")])])])],-1)])),_:1}),n(t,{label:"Pulihkan Wallet (EVM)"},{default:e(()=>s[2]||(s[2]=[a("p",null,"Untuk pengguna metamask atau wallet EVM:",-1),a("div",{class:"language- vp-adaptive-theme"},[a("button",{title:"Copy Code",class:"copy"}),a("span",{class:"lang"}),a("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[a("code",null,[a("span",{class:"line"},[a("span",null,"0gchaind keys add $WALLET --eth --recover")])])])],-1)])),_:1})]),_:1}),s[4]||(s[4]=l(`<p><strong>Simpan alamat wallet dan validator</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>WALLET_ADDRESS=$(0gchaind keys show $WALLET -a)</span></span>
<span class="line"><span>VALOPER_ADDRESS=$(0gchaind keys show $WALLET --bech val -a)</span></span>
<span class="line"><span>echo &quot;export WALLET_ADDRESS=&quot;$WALLET_ADDRESS &gt;&gt; $HOME/.bash_profile</span></span>
<span class="line"><span>echo &quot;export VALOPER_ADDRESS=&quot;$VALOPER_ADDRESS &gt;&gt; $HOME/.bash_profile</span></span>
<span class="line"><span>source $HOME/.bash_profile</span></span></code></pre></div><p><strong>4. Cek status blok sync</strong></p><p>Script dari ITRocket</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>#!/bin/bash</span></span>
<span class="line"><span>rpc_port=$(grep -m 1 -oP &#39;^laddr = &quot;\\K[^&quot;]+&#39; &quot;$HOME/.0gchain/config/config.toml&quot; | cut -d &#39;:&#39; -f 3)</span></span>
<span class="line"><span>while true; do</span></span>
<span class="line"><span>  local_height=$(curl -s localhost:$rpc_port/status | jq -r &#39;.result.sync_info.latest_block_height&#39;)</span></span>
<span class="line"><span>  network_height=$(curl -s https://og-testnet-rpc.itrocket.net/status | jq -r &#39;.result.sync_info.latest_block_height&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  if ! [[ &quot;$local_height&quot; =~ ^[0-9]+$ ]] || ! [[ &quot;$network_height&quot; =~ ^[0-9]+$ ]]; then</span></span>
<span class="line"><span>    echo -e &quot;mError: Data blok tidak valid. Coba lagi...&quot;</span></span>
<span class="line"><span>    sleep 5</span></span>
<span class="line"><span>    continue</span></span>
<span class="line"><span>  fi</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  blocks_left=$((network_height - local_height))</span></span>
<span class="line"><span>  echo -e &quot;mNode Height:m $local_height m| Network Height:m $network_height m| Sisa Blok:m $blocks_left&quot;</span></span>
<span class="line"><span>  sleep 5</span></span>
<span class="line"><span>done</span></span></code></pre></div><p><strong>5. Cek status node</strong></p><p>Pastikan hasilnya <code>&quot;catching_up&quot;: false</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>0gchaind status 2&gt;&amp;1 | jq</span></span></code></pre></div><p><strong>6. Buat Validator</strong></p><p>Pastikan saldo kamu cukup. Ganti <code>wallet_name</code> dengan nama wallet kamu.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>0gchaind q bank balances $(0gchaind keys show &quot;wallet_name&quot; -a)</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">Edit Info Validator</p><p>Edit <code>moniker</code>, <code>identity</code>, <code>website</code>, dan <code>details</code> sesuai keinginan.</p><p><code>amount</code> 1000000ua0gi = 1 A0GI</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>0gchaind tx staking create-validator \\</span></span>
<span class="line"><span>--amount 1000000ua0gi \\</span></span>
<span class="line"><span>--from $WALLET \\</span></span>
<span class="line"><span>--commission-rate 0.1 \\</span></span>
<span class="line"><span>--commission-max-rate 0.2 \\</span></span>
<span class="line"><span>--commission-max-change-rate 0.01 \\</span></span>
<span class="line"><span>--min-self-delegation 1 \\</span></span>
<span class="line"><span>--pubkey $(0gchaind tendermint show-validator) \\</span></span>
<span class="line"><span>--moniker &quot;test&quot; \\</span></span>
<span class="line"><span>--identity &quot;&quot; \\</span></span>
<span class="line"><span>--website &quot;&quot; \\</span></span>
<span class="line"><span>--details &quot;I love blockchain ‚ù§Ô∏è&quot; \\</span></span>
<span class="line"><span>--chain-id zgtendermint_16600-2 \\</span></span>
<span class="line"><span>--gas-adjustment 1.5 --gas auto --gas-prices 0.00252ua0gi \\</span></span>
<span class="line"><span>-y</span></span></code></pre></div></div><p><strong>Cek info validator</strong></p><p>Ganti <code>wallet_name</code> dengan wallet kamu:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>0gchaind q staking validator $(0gchaind keys show &quot;wallet_name&quot; --bech val -a)</span></span></code></pre></div><h2 id="hapus-node" tabindex="-1">Hapus Node <a class="header-anchor" href="#hapus-node" aria-label="Permalink to &quot;Hapus Node&quot;">‚Äã</a></h2><div class="danger custom-block"><p class="custom-block-title">‚ö†Ô∏è Penting: Backup Kunci Validator Kamu!</p><p>Jangan sampai hilang ‚Äî kunci ini wajib untuk jalankan validator kamu.</p><p>Lokasi file: <code>/root/.0gchain/config/priv_validator_key.json</code></p></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo systemctl stop 0gchaind</span></span>
<span class="line"><span>sudo systemctl disable 0gchaind</span></span>
<span class="line"><span>sudo rm -rf /etc/systemd/system/0gchaind.service</span></span>
<span class="line"><span>sudo rm $(which 0gchaind)</span></span>
<span class="line"><span>sudo rm -rf $HOME/.0gchain</span></span>
<span class="line"><span>sed -i &quot;/OG_/d&quot; $HOME/.bash_profile</span></span></code></pre></div>`,18))])}const y=o(u,[["render",r]]);export{_ as __pageData,y as default};
