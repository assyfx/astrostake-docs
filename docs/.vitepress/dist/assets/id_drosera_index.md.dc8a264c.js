import{_ as s,a}from"./chunks/Opt_in.1e59ef0a.js";import{_ as n,c as l,o as e,a as p}from"./app.002226a4.js";const D=JSON.parse('{"title":"Instalasi Drosera","description":"","frontmatter":{},"headers":[{"level":2,"title":"Spesifikasi Sistem","slug":"spesifikasi-sistem","link":"#spesifikasi-sistem","children":[]},{"level":2,"title":"Instalasi","slug":"instalasi","link":"#instalasi","children":[]},{"level":2,"title":"Setup Trap","slug":"setup-trap","link":"#setup-trap","children":[]},{"level":2,"title":"Deploy Kontrak & Trap","slug":"deploy-kontrak-trap","link":"#deploy-kontrak-trap","children":[{"level":3,"title":"Kalau muncul error seperti ini:","slug":"kalau-muncul-error-seperti-ini","link":"#kalau-muncul-error-seperti-ini","children":[]}]},{"level":2,"title":"Konfigurasi Dashboard","slug":"konfigurasi-dashboard","link":"#konfigurasi-dashboard","children":[]},{"level":2,"title":"Setup Operator","slug":"setup-operator","link":"#setup-operator","children":[]},{"level":2,"title":"Setup Systemd","slug":"setup-systemd","link":"#setup-systemd","children":[]}],"relativePath":"id/drosera/index.md"}'),o={name:"id/drosera/index.md"},t=p(`<h1 id="instalasi-drosera" tabindex="-1">Instalasi Drosera <a class="header-anchor" href="#instalasi-drosera" aria-hidden="true">#</a></h1><h2 id="spesifikasi-sistem" tabindex="-1">Spesifikasi Sistem <a class="header-anchor" href="#spesifikasi-sistem" aria-hidden="true">#</a></h2><ul><li>CPU: 2 Core</li><li>RAM: 4GB</li><li>Penyimpanan: 20 GB</li><li>Kamu juga butuh <a href="https://cloud.google.com/application/web3/faucet/ethereum/holesky" target="_blank" rel="noreferrer">faucet</a> ya.</li></ul><h2 id="instalasi" tabindex="-1">Instalasi <a class="header-anchor" href="#instalasi" aria-hidden="true">#</a></h2><p><strong>1. Install Paket Dasar</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo apt-get update </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> sudo apt-get upgrade -y</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo apt install curl ufw iptables build-essential git wget lz4 jq make gcc nano automake autoconf tmux htop nvme-cli libgbm1 pkg-config libssl-dev libleveldb-dev tar clang bsdmainutils ncdu unzip libleveldb-dev -y</span></span>
<span class="line"></span></code></pre></div><div class="custom-collapse"><details><summary>2. Install Docker (lewati kalau sudah terpasang)</summary><div class="collapse-content"><p><strong>1. Install Dependensi Docker</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo apt install apt-transport-https ca-certificates curl software-properties-common -y</span></span>
<span class="line"></span></code></pre></div><p><strong>2. Tambahkan GPG Key Docker</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">curl -fsSL https://download.docker.com/linux/ubuntu/gpg </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/docker.gpg</span></span>
<span class="line"></span></code></pre></div><p><strong>3. Tambahkan Repository Docker</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">deb [arch=amd64] https://download.docker.com/linux/ubuntu </span><span style="color:#89DDFF;">$(</span><span style="color:#C3E88D;">lsb_release -cs</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;"> stable</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo tee /etc/apt/sources.list.d/docker.list </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> /dev/null</span></span>
<span class="line"></span></code></pre></div><p><strong>4. Install Docker CE</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo apt update</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt install docker-ce docker-ce-cli containerd.io -y</span></span>
<span class="line"></span></code></pre></div><p><strong>5. Cek Status Docker</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo systemctl status docker</span></span>
<span class="line"></span></code></pre></div></div></details></div><h2 id="setup-trap" tabindex="-1">Setup Trap <a class="header-anchor" href="#setup-trap" aria-hidden="true">#</a></h2><p><strong>1. Install Drosera</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">curl -L https://app.drosera.io/install </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> bash</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">source</span><span style="color:#A6ACCD;"> /root/.bashrc</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">droseraup</span></span>
<span class="line"></span></code></pre></div><p><strong>2. Install Foundry</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">curl -L https://foundry.paradigm.xyz </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> bash</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">source</span><span style="color:#A6ACCD;"> /root/.bashrc</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">foundryup</span></span>
<span class="line"></span></code></pre></div><p><strong>3. Install Bun</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">curl -fsSL https://bun.sh/install </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> bash</span></span>
<span class="line"></span></code></pre></div><h2 id="deploy-kontrak-trap" tabindex="-1">Deploy Kontrak &amp; Trap <a class="header-anchor" href="#deploy-kontrak-trap" aria-hidden="true">#</a></h2><p><strong>1. Buat Folder Baru</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">mkdir my-drosera-trap </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> my-drosera-trap</span></span>
<span class="line"></span></code></pre></div><p><strong>2. Konfigurasi GitHub</strong></p><p>Ganti <code>Github_Email</code> dan <code>Github_Username</code> sesuai akunmu:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">git config --global user.email </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Github_Email</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">git config --global user.name </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Github_Username</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><p><strong>3. Inisialisasi Trap</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">forge init -t drosera-network/trap-foundry-template</span></span>
<span class="line"></span></code></pre></div><p><strong>4. Kompilasi Trap</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">curl -fsSL https://bun.sh/install </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> bash</span></span>
<span class="line"><span style="color:#A6ACCD;">bun install</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">forge build</span></span>
<span class="line"></span></code></pre></div><h3 id="kalau-muncul-error-seperti-ini" tabindex="-1">Kalau muncul error seperti ini: <a class="header-anchor" href="#kalau-muncul-error-seperti-ini" aria-hidden="true">#</a></h3><p><a href="/images/forge_build_error.png"><img src="`+s+`" alt="BuildError"></a></p><p>Coba ulangin langkah ini:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">curl -fsSL https://bun.sh/install </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> bash</span></span>
<span class="line"><span style="color:#A6ACCD;">bun install</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">forge build</span></span>
<span class="line"></span></code></pre></div><p><strong>5. Deploy Trap</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">DROSERA_PRIVATE_KEY=PrivKey drosera apply</span></span>
<span class="line"></span></code></pre></div><h2 id="konfigurasi-dashboard" tabindex="-1">Konfigurasi Dashboard <a class="header-anchor" href="#konfigurasi-dashboard" aria-hidden="true">#</a></h2><p><strong>1. Hubungkan wallet VM Drosera kamu ke <a href="https://app.drosera.io/" target="_blank" rel="noreferrer">https://app.drosera.io/</a></strong></p><p><strong>2. Klik menu <code>Traps Owned</code> atau cari alamat Trap kamu</strong></p><p><strong>3. Buka Trap di Dashboard lalu klik <code>Send Bloom Boost</code> dan deposit ETH Holesky secukupnya</strong></p><p><strong>4. Ambil data blok</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">drosera dryrun</span></span>
<span class="line"></span></code></pre></div><h2 id="setup-operator" tabindex="-1">Setup Operator <a class="header-anchor" href="#setup-operator" aria-hidden="true">#</a></h2><p><strong>1. Ubah Konfigurasi Trap</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> my-drosera-trap</span></span>
<span class="line"><span style="color:#A6ACCD;">nano drosera.toml</span></span>
<span class="line"></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">Ubah bagian <code>private_trap</code> dan <code>whitelist</code> seperti ini:</p><div class="language-toml"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">private_trap </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">whitelist </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">EVM_Address</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div></div><p><strong>2. Terapkan Konfigurasi Trap</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">DROSERA_PRIVATE_KEY=PrivKey drosera apply</span></span>
<span class="line"></span></code></pre></div><p><strong>3. Download dan Ekstrak Operator CLI</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">curl -LO https://github.com/drosera-network/releases/releases/download/v1.16.2/drosera-operator-v1.16.2-x86_64-unknown-linux-gnu.tar.gz</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">tar -xvf drosera-operator-v1.16.2-x86_64-unknown-linux-gnu.tar.gz</span></span>
<span class="line"></span></code></pre></div><p><strong>4. Cek Versi &amp; Pindahkan Biar Bisa Jalan Global</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">./drosera-operator --version</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo cp drosera-operator /usr/bin</span></span>
<span class="line"></span></code></pre></div><p><strong>5. Install Docker Image</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker pull ghcr.io/drosera-network/drosera-operator:latest</span></span>
<span class="line"></span></code></pre></div><p><strong>6. Register Operator</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">drosera-operator register --eth-rpc-url https://ethereum-holesky-rpc.publicnode.com --eth-private-key PrivKey</span></span>
<span class="line"></span></code></pre></div><h2 id="setup-systemd" tabindex="-1">Setup Systemd <a class="header-anchor" href="#setup-systemd" aria-hidden="true">#</a></h2><div class="info custom-block"><p class="custom-block-title">1. Buat File Service Systemd</p><p>ganti <code>Priv_Key</code> dan <code>VPS_IP</code></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo tee /etc/systemd/system/drosera.service </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> /dev/null </span><span style="color:#89DDFF;">&lt;&lt;</span><span style="color:#89DDFF;">EOF</span></span>
<span class="line"><span style="color:#C3E88D;">[Unit]</span></span>
<span class="line"><span style="color:#C3E88D;">Description=drosera node service</span></span>
<span class="line"><span style="color:#C3E88D;">After=network-online.target</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">[Service]</span></span>
<span class="line"><span style="color:#C3E88D;">User=</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">USER</span></span>
<span class="line"><span style="color:#C3E88D;">Restart=always</span></span>
<span class="line"><span style="color:#C3E88D;">RestartSec=15</span></span>
<span class="line"><span style="color:#C3E88D;">LimitNOFILE=65535</span></span>
<span class="line"><span style="color:#C3E88D;">ExecStart=</span><span style="color:#89DDFF;">$(</span><span style="color:#C3E88D;">which drosera-operator</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;"> node --db-file-path </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">HOME</span><span style="color:#C3E88D;">/.drosera.db --network-p2p-port 31313 --server-port 31314 </span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">    --eth-rpc-url https://ethereum-holesky-rpc.publicnode.com </span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">    --eth-backup-rpc-url https://1rpc.io/holesky </span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">    --drosera-address 0xea08f7d533C2b9A62F40D5326214f39a8E3A32F8 </span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">    --eth-private-key Priv_Key </span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">    --listen-address 0.0.0.0 </span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">    --network-external-p2p-address VPS_IP </span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">    --disable-dnr-confirmation true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">[Install]</span></span>
<span class="line"><span style="color:#C3E88D;">WantedBy=multi-user.target</span></span>
<span class="line"><span style="color:#89DDFF;">EOF</span></span>
<span class="line"></span></code></pre></div></div><p><strong>2. Jalankan Service</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo systemctl daemon-reload</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl </span><span style="color:#82AAFF;">enable</span><span style="color:#A6ACCD;"> drosera</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl start drosera</span></span>
<span class="line"></span></code></pre></div><p><strong>3. Lihat Log</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">journalctl -u drosera.service -f</span></span>
<span class="line"></span></code></pre></div><p><strong>4. Opt In Trap</strong><a href="/images/Opt_in.png"><img src="`+a+'" alt="Opt_in"></a></p><p><strong>Selesai! Cek status node kamu di Dashboard.</strong></p>',66),r=[t];function c(i,d,u,y,C,h){return e(),l("div",null,r)}const A=n(o,[["render",c]]);export{D as __pageData,A as default};
