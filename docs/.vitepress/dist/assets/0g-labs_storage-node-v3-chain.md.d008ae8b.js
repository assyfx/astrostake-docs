import{_ as s,c as a,o as n,a as e}from"./app.002226a4.js";const h=JSON.parse('{"title":"Storage Node Setup Guide (V3 Galileo)","description":"","frontmatter":{},"headers":[{"level":2,"title":"Requirements","slug":"requirements","link":"#requirements","children":[]},{"level":2,"title":"If you have installed previously. Check here to update.","slug":"if-you-have-installed-previously-check-here-to-update","link":"#if-you-have-installed-previously-check-here-to-update","children":[]},{"level":2,"title":"One-Click Command Update","slug":"one-click-command-update","link":"#one-click-command-update","children":[]},{"level":2,"title":"One Click Command Install","slug":"one-click-command-install","link":"#one-click-command-install","children":[]},{"level":2,"title":"Manual Install","slug":"manual-install","link":"#manual-install","children":[]},{"level":2,"title":"Optional: Install Snapshot","slug":"optional-install-snapshot","link":"#optional-install-snapshot","children":[]},{"level":2,"title":"Useful Commands","slug":"useful-commands","link":"#useful-commands","children":[]},{"level":2,"title":"Stop and delete node","slug":"stop-and-delete-node","link":"#stop-and-delete-node","children":[]}],"relativePath":"0g-labs/storage-node-v3-chain.md"}'),l={name:"0g-labs/storage-node-v3-chain.md"},o=e(`<h1 id="storage-node-setup-guide-v3-galileo" tabindex="-1">Storage Node Setup Guide (V3 Galileo) <a class="header-anchor" href="#storage-node-setup-guide-v3-galileo" aria-hidden="true">#</a></h1><p>This guide will help you set up a Storage Node for OG Labs. For official documentation, check <a href="https://docs.0g.ai/run-a-node/storage-node" target="_blank" rel="noreferrer">here</a>.</p><h2 id="requirements" tabindex="-1">Requirements <a class="header-anchor" href="#requirements" aria-hidden="true">#</a></h2><ul><li>Memory: 32 GB RAM</li><li>CPU: 8 Cores</li><li>Disk: 500GB / 1TB NVME SSD</li><li>Bandwidth: 100 Mbps (Download / Upload)</li></ul><h2 id="if-you-have-installed-previously-check-here-to-update" tabindex="-1">If you have installed previously. Check <a href="https://docs.astrostake.xyz/0g-labs/storage-node-v3-update" target="_blank" rel="noreferrer">here</a> to update. <a class="header-anchor" href="#if-you-have-installed-previously-check-here-to-update" aria-hidden="true">#</a></h2><h2 id="one-click-command-update" tabindex="-1">One-Click Command Update <a class="header-anchor" href="#one-click-command-update" aria-hidden="true">#</a></h2><p>This command only updates your node version. If you&#39;re moving from v2 to v3, make sure to follow the <a href="https://docs.astrostake.xyz/0g-labs/storage-node-v3-update" target="_blank" rel="noreferrer">migration guide</a> instead.</p><p>version: <code>v1.0.0</code></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">bash &lt;(wget -qO- https://astrostake.xyz/storage_node_update_v3.sh)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="one-click-command-install" tabindex="-1">One Click Command Install <a class="header-anchor" href="#one-click-command-install" aria-hidden="true">#</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">bash &lt;(wget -qO- https://astrostake.xyz/0g_storage_node_v3_chain.sh)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="manual-install" tabindex="-1">Manual Install <a class="header-anchor" href="#manual-install" aria-hidden="true">#</a></h2><ol><li><strong>Install necessary packages</strong></li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo apt-get update</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt-get install clang cmake build-essential openssl pkg-config libssl-dev jq</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ol start="2"><li><strong>Install go</strong></li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">cd $HOME &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">ver=&quot;1.22.0&quot; &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">wget &quot;https://golang.org/dl/go$ver.linux-amd64.tar.gz&quot; &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo rm -rf /usr/local/go &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo tar -C /usr/local -xzf &quot;go$ver.linux-amd64.tar.gz&quot; &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">rm &quot;go$ver.linux-amd64.tar.gz&quot; &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">echo &quot;export PATH=$PATH:/usr/local/go/bin:$HOME/go/bin&quot; &gt;&gt; ~/.bash_profile &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">source ~/.bash_profile &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">go version</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ol start="3"><li><strong>Install rustup</strong></li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">curl --proto &#39;=https&#39; --tlsv1.2 -sSf https://sh.rustup.rs | sh</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">.</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;$</span><span style="color:#A6ACCD;">HOME</span><span style="color:#C3E88D;">/.cargo/env</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><ol start="4"><li><strong>Download and Install 0G Storage Node</strong></li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">git clone -b v1.0.0 https://github.com/0glabs/0g-storage-node.git</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">cd $HOME/0g-storage-node</span></span>
<span class="line"><span style="color:#A6ACCD;">git stash</span></span>
<span class="line"><span style="color:#A6ACCD;">git fetch --all --tags</span></span>
<span class="line"><span style="color:#A6ACCD;">git checkout v1.0.0</span></span>
<span class="line"><span style="color:#A6ACCD;">git submodule update --init</span></span>
<span class="line"><span style="color:#A6ACCD;">cargo build --release</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ol start="5"><li><strong>Set config</strong></li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">rm -rf $HOME/0g-storage-node/run/config.toml</span></span>
<span class="line"><span style="color:#A6ACCD;">curl -o $HOME/0g-storage-node/run/config.toml https://vault.astrostake.xyz/0g-labs/config-v3.toml</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>check <code>miner_key</code> and input your private key</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">nano $HOME/0g-storage-node/run/config.toml</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ol start="6"><li><strong>Create service</strong></li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo tee /etc/systemd/system/zgs.service &gt; /dev/null &lt;&lt;EOF</span></span>
<span class="line"><span style="color:#A6ACCD;">[Unit]</span></span>
<span class="line"><span style="color:#A6ACCD;">Description=ZGS Node</span></span>
<span class="line"><span style="color:#A6ACCD;">After=network.target</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">[Service]</span></span>
<span class="line"><span style="color:#A6ACCD;">User=$USER</span></span>
<span class="line"><span style="color:#A6ACCD;">WorkingDirectory=$HOME/0g-storage-node/run</span></span>
<span class="line"><span style="color:#A6ACCD;">ExecStart=$HOME/0g-storage-node/target/release/zgs_node --config $HOME/0g-storage-node/run/config.toml</span></span>
<span class="line"><span style="color:#A6ACCD;">Restart=on-failure</span></span>
<span class="line"><span style="color:#A6ACCD;">RestartSec=10</span></span>
<span class="line"><span style="color:#A6ACCD;">LimitNOFILE=65535</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">[Install]</span></span>
<span class="line"><span style="color:#A6ACCD;">WantedBy=multi-user.target</span></span>
<span class="line"><span style="color:#A6ACCD;">EOF</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ol start="7"><li><strong>Star service</strong></li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo systemctl daemon-reload &amp;&amp; sudo systemctl enable zgs &amp;&amp; sudo systemctl start zgs</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="optional-install-snapshot" tabindex="-1">Optional: <a href="https://docs.astrostake.xyz/0g-labs/snapshot" target="_blank" rel="noreferrer">Install Snapshot</a> <a class="header-anchor" href="#optional-install-snapshot" aria-hidden="true">#</a></h2><h2 id="useful-commands" tabindex="-1">Useful Commands <a class="header-anchor" href="#useful-commands" aria-hidden="true">#</a></h2><p><strong>Check Full Logs</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">tail -f ~/0g-storage-node/run/log/zgs.log.$(TZ=UTC date +%Y-%m-%d)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>Check Blocks and Peers</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">source &lt;(curl -s https://astrostake.xyz/check_block.sh)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>Change RPC</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">bash &lt;(wget -qO- https://astrostake.xyz/change_storage_rpc.sh)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="stop-and-delete-node" tabindex="-1">Stop and delete node <a class="header-anchor" href="#stop-and-delete-node" aria-hidden="true">#</a></h2><p>Stop</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo systemctl stop zgs</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>Delete</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo systemctl disable zgs</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo rm /etc/systemd/system/zgs.service</span></span>
<span class="line"><span style="color:#A6ACCD;">rm -rf $HOME/0g-storage-node</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div>`,43),t=[o];function p(c,i,r,d,u,g){return n(),a("div",null,t)}const y=s(l,[["render",p]]);export{h as __pageData,y as default};
