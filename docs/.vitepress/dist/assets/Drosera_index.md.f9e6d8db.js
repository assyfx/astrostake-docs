import{_ as s}from"./chunks/Opt_in.9d647496.js";import{_ as a,c as n,o as l,a as e}from"./app.dd4d1028.js";const b=JSON.parse('{"title":"Drosera Installation","description":"","frontmatter":{},"headers":[{"level":2,"title":"System Requirements","slug":"system-requirements","link":"#system-requirements","children":[]},{"level":2,"title":"Install","slug":"install","link":"#install","children":[]},{"level":2,"title":"Trap Setup","slug":"trap-setup","link":"#trap-setup","children":[]},{"level":2,"title":"Deploy Contract & Trap","slug":"deploy-contract-trap","link":"#deploy-contract-trap","children":[]},{"level":2,"title":"Dashboard Configuration","slug":"dashboard-configuration","link":"#dashboard-configuration","children":[]},{"level":2,"title":"Operator Setup","slug":"operator-setup","link":"#operator-setup","children":[]},{"level":2,"title":"Setup Systemd","slug":"setup-systemd","link":"#setup-systemd","children":[]}],"relativePath":"Drosera/index.md"}'),p={name:"Drosera/index.md"},o=e(`<h1 id="drosera-installation" tabindex="-1">Drosera Installation <a class="header-anchor" href="#drosera-installation" aria-hidden="true">#</a></h1><h2 id="system-requirements" tabindex="-1">System Requirements <a class="header-anchor" href="#system-requirements" aria-hidden="true">#</a></h2><ul><li>CPU: 2 Cores</li><li>Memory: 4GB RAM</li><li>Disk: 20 GB</li><li>You need <a href="https://cloud.google.com/application/web3/faucet/ethereum/holesky" target="_blank" rel="noreferrer">faucet</a> also.</li></ul><h2 id="install" tabindex="-1">Install <a class="header-anchor" href="#install" aria-hidden="true">#</a></h2><p><strong>1. Install Dependencies</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo apt-get update </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> sudo apt-get upgrade -y</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo apt install curl ufw iptables build-essential git wget lz4 jq make gcc nano automake autoconf tmux htop nvme-cli libgbm1 pkg-config libssl-dev libleveldb-dev tar clang bsdmainutils ncdu unzip libleveldb-dev  -y</span></span>
<span class="line"></span></code></pre></div><div class="custom-collapse"><details><summary>2. Install Docker (skip if already installed)</summary><div class="collapse-content"><p><strong>1. Install Dependency</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo apt install apt-transport-https ca-certificates curl software-properties-common -y</span></span>
<span class="line"></span></code></pre></div><p><strong>2. Add GPG key Docker</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">curl -fsSL https://download.docker.com/linux/ubuntu/gpg </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/docker.gpg</span></span>
<span class="line"></span></code></pre></div><p><strong>3. Add docker repo</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">deb [arch=amd64] https://download.docker.com/linux/ubuntu </span><span style="color:#89DDFF;">$(</span><span style="color:#C3E88D;">lsb_release -cs</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;"> stable</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo tee /etc/apt/sources.list.d/docker.list </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> /dev/null</span></span>
<span class="line"></span></code></pre></div><p><strong>4. Install Docker CE</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo apt update</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt install docker-ce docker-ce-cli containerd.io -y</span></span>
<span class="line"></span></code></pre></div><p><strong>5. Check Docker Status</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo systemctl status docker</span></span>
<span class="line"></span></code></pre></div></div></details></div><h2 id="trap-setup" tabindex="-1">Trap Setup <a class="header-anchor" href="#trap-setup" aria-hidden="true">#</a></h2><p><strong>1. Install Drosera</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">curl -L https://app.drosera.io/install </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> bash</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">source</span><span style="color:#A6ACCD;"> /root/.bashrc</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">droseraup</span></span>
<span class="line"></span></code></pre></div><p><strong>2. Install Foundry</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">curl -L https://foundry.paradigm.xyz </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> bash</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">source</span><span style="color:#A6ACCD;"> /root/.bashrc</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">foundryup</span></span>
<span class="line"></span></code></pre></div><p><strong>3. Install Bun</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">curl -fsSL https://bun.sh/install </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> bash</span></span>
<span class="line"></span></code></pre></div><h2 id="deploy-contract-trap" tabindex="-1">Deploy Contract &amp; Trap <a class="header-anchor" href="#deploy-contract-trap" aria-hidden="true">#</a></h2><p><strong>1. Create folder</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">mkdir my-drosera-trap </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> my-drosera-trap</span></span>
<span class="line"></span></code></pre></div><p><strong>2. Github Config</strong></p><p>Replace <code>Github_Email</code> &amp; <code>Github_Usernamee</code> :</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">git config --global user.email </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Github_Email</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">git config --global user.name </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Github_Username</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><p><strong>3. Initialize Trap</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">forge init -t drosera-network/trap-foundry-template</span></span>
<span class="line"></span></code></pre></div><p><strong>4. Compile Trap</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">curl -fsSL https://bun.sh/install </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> bash</span></span>
<span class="line"><span style="color:#A6ACCD;">bun install</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">forge build</span></span>
<span class="line"><span style="color:#89DDFF;">\`\`\`</span><span style="color:#C3E88D;">bash</span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#C3E88D;"> you face an error like this:</span></span>
<span class="line"><span style="color:#89DDFF;">[![</span><span style="color:#C3E88D;">BuildError</span><span style="color:#89DDFF;">](</span><span style="color:#C3E88D;">/images/forge_build_error.png</span><span style="color:#89DDFF;">)](</span><span style="color:#C3E88D;">/images/forge_build_error.png</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">try to run again this script</span></span>
<span class="line"><span style="color:#89DDFF;">\`\`\`</span><span style="color:#C3E88D;">bash</span></span>
<span class="line"><span style="color:#C3E88D;">curl -fsSL https://bun.sh/install </span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;"> bash</span></span>
<span class="line"><span style="color:#C3E88D;">bun install</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">forge build</span></span>
<span class="line"></span></code></pre></div><p><strong>5. Deploy Trap</strong></p><p>Replace <code>PrivKey</code> with your Private Key!</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">DROSERA_PRIVATE_KEY=PrivKey drosera apply</span></span>
<span class="line"></span></code></pre></div><p>enter command, wait, write ofc and enter.</p><h2 id="dashboard-configuration" tabindex="-1">Dashboard Configuration <a class="header-anchor" href="#dashboard-configuration" aria-hidden="true">#</a></h2><p><strong>1. Connect your Drosera VM Wallet to <a href="https://app.drosera.io/" target="_blank" rel="noreferrer">https://app.drosera.io/</a></strong></p><p><strong>2. Clik on <code>Traps Owned</code> or search your Trap Address</strong></p><p><strong>3. Open your Trap on Dashboard and Click on <code>Send Bloom Boost</code> and deposit some Holesky ETH on it. Leave some for gas fee</strong></p><p><strong>4. Fetch Blocks</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">drosera dryrun</span></span>
<span class="line"></span></code></pre></div><h2 id="operator-setup" tabindex="-1">Operator Setup <a class="header-anchor" href="#operator-setup" aria-hidden="true">#</a></h2><p><strong>1. Setup Trap Config</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> my-drosera-trap</span></span>
<span class="line"><span style="color:#A6ACCD;">nano drosera.toml</span></span>
<span class="line"></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">edit <code>private_trap</code> and <code>whitelist</code> like this:</p><div class="language-toml"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">private_trap </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">whitelist </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">EVM_Address</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div></div><p><strong>2. Update Trap Configuration</strong></p><p>Replace <code>PrivKey</code> with your Private Key!</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">DROSERA_PRIVATE_KEY=PrivKey drosera apply</span></span>
<span class="line"></span></code></pre></div><p><strong>3. Download and Extract Operator CLI</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">curl -LO https://github.com/drosera-network/releases/releases/download/v1.16.2/drosera-operator-v1.16.2-x86_64-unknown-linux-gnu.tar.gz</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">tar -xvf drosera-operator-v1.16.2-x86_64-unknown-linux-gnu.tar.gz</span></span>
<span class="line"></span></code></pre></div><p><strong>4. Check Version and move path to run it globally</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">./drosera-operator --version</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo cp drosera-operator /usr/bin</span></span>
<span class="line"></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">drosera-operator</span></span>
<span class="line"></span></code></pre></div><p><strong>5. Install Docker Image</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker pull ghcr.io/drosera-network/drosera-operator:latest</span></span>
<span class="line"></span></code></pre></div><p><strong>6. Register Operator</strong></p><p>replace <code>PrivKey</code> with your Private Key</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">drosera-operator register --eth-rpc-url https://ethereum-holesky-rpc.publicnode.com --eth-private-key PrivKey</span></span>
<span class="line"></span></code></pre></div><h2 id="setup-systemd" tabindex="-1">Setup Systemd <a class="header-anchor" href="#setup-systemd" aria-hidden="true">#</a></h2><div class="info custom-block"><p class="custom-block-title">1. Configure Systemd service file</p><p>replace <code>Priv_Key</code> and <code>VPS_IP</code></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo tee /etc/systemd/system/drosera.service </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> /dev/null </span><span style="color:#89DDFF;">&lt;&lt;</span><span style="color:#89DDFF;">EOF</span></span>
<span class="line"><span style="color:#C3E88D;">[Unit]</span></span>
<span class="line"><span style="color:#C3E88D;">Description=drosera node service</span></span>
<span class="line"><span style="color:#C3E88D;">After=network-online.target</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">[Service]</span></span>
<span class="line"><span style="color:#C3E88D;">User=</span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">USER</span></span>
<span class="line"><span style="color:#C3E88D;">Restart=always</span></span>
<span class="line"><span style="color:#C3E88D;">RestartSec=15</span></span>
<span class="line"><span style="color:#C3E88D;">LimitNOFILE=65535</span></span>
<span class="line"><span style="color:#C3E88D;">ExecStart=</span><span style="color:#89DDFF;">$(</span><span style="color:#C3E88D;">which drosera-operator</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;"> node --db-file-path </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">HOME</span><span style="color:#C3E88D;">/.drosera.db --network-p2p-port 31313 --server-port 31314 </span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">    --eth-rpc-url https://ethereum-holesky-rpc.publicnode.com </span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">    --eth-backup-rpc-url https://1rpc.io/holesky </span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">    --drosera-address 0xea08f7d533C2b9A62F40D5326214f39a8E3A32F8 </span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">    --eth-private-key Priv_Key </span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">    --listen-address 0.0.0.0 </span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">    --network-external-p2p-address VPS_IP </span><span style="color:#A6ACCD;">\\</span></span>
<span class="line"><span style="color:#C3E88D;">    --disable-dnr-confirmation true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">[Install]</span></span>
<span class="line"><span style="color:#C3E88D;">WantedBy=multi-user.target</span></span>
<span class="line"><span style="color:#89DDFF;">EOF</span></span>
<span class="line"></span></code></pre></div></div><p><strong>2. Run Operator</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo systemctl daemon-reload</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl </span><span style="color:#82AAFF;">enable</span><span style="color:#A6ACCD;"> drosera</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl start drosera</span></span>
<span class="line"></span></code></pre></div><p><strong>3. Check Logs</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">journalctl -u drosera.service -f</span></span>
<span class="line"></span></code></pre></div><p><strong>4. Opt In Trap</strong></p><p><a href="/images/Opt_in.png"><img src="`+s+'" alt="Opt_in"></a></p><p><strong>Done! Check Node Liveness on your Dashboard.</strong></p>',69),t=[o];function c(r,i,d,y,u,C){return l(),n("div",null,t)}const D=a(p,[["render",c]]);export{b as __pageData,D as default};
