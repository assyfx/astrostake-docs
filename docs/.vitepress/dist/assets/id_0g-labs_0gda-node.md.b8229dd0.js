import{_ as c,c as i,b as s,d as a,w as n,a as e,r as o,o as r,e as t}from"./app.dd4d1028.js";const P=JSON.parse('{"title":"0G DA Node Setup Guide","description":"","frontmatter":{},"headers":[{"level":2,"title":"Requirements","slug":"requirements","link":"#requirements","children":[{"level":3,"title":"Stake with AstroStake","slug":"stake-with-astrostake","link":"#stake-with-astrostake","children":[]}]},{"level":2,"title":"One-Click Command Install","slug":"one-click-command-install","link":"#one-click-command-install","children":[]},{"level":2,"title":"Manual Install","slug":"manual-install","link":"#manual-install","children":[]},{"level":2,"title":"Useful Commands","slug":"useful-commands","link":"#useful-commands","children":[]},{"level":2,"title":"Stop and delete node","slug":"stop-and-delete-node","link":"#stop-and-delete-node","children":[]}],"relativePath":"id/0g-labs/0gda-node.md"}'),d={name:"id/0g-labs/0gda-node.md"},C=e('<h1 id="_0g-da-node-setup-guide" tabindex="-1">0G DA Node Setup Guide <a class="header-anchor" href="#_0g-da-node-setup-guide" aria-hidden="true">#</a></h1><p>This guide will help you set up a DA Node for OG Labs. For official documentation, check <a href="https://docs.0g.ai/run-a-node/da-node" target="_blank" rel="noreferrer">here</a>.</p><h2 id="requirements" tabindex="-1">Requirements <a class="header-anchor" href="#requirements" aria-hidden="true">#</a></h2><ul><li><strong><a href="https://0g.exploreme.pro/validators/0gvaloper1aax7fz4d904m0ul3e9v3lfq7cdzzw3ka8qk3mr?action=Delegate" target="_blank" rel="noreferrer">Stake</a> 30 A0GI</strong></li><li>Memory: 16 GB RAM</li><li>CPU: 8 Cores</li><li>Disk: 1TB NVME SSD</li><li>Bandwidth: 100 Mbps (Download / Upload)</li></ul><p><strong>You need to stake 30 A0GI to the validator to run 0G DA Node.</strong></p><div class="highlight"><h3 id="stake-with-astrostake" tabindex="-1">Stake with AstroStake <a class="header-anchor" href="#stake-with-astrostake" aria-hidden="true">#</a></h3><p>Stake with my validator to support this community effort! Your delegation helps me stay active in the 0g network and continue building for everyone.</p><a class="custom-button" href="https://0g.exploreme.pro/validators/0gvaloper1aax7fz4d904m0ul3e9v3lfq7cdzzw3ka8qk3mr?action=Delegate" target="_blank"> \u{1F680} Stake to AstroStake </a></div>',6),u={class:"custom-collapse"},g=s("summary",null,"Staking via CLI",-1),A={class:"collapse-content"},y=e(`<p><strong>1. Download 0g binary</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">cd $HOME</span></span>
<span class="line"><span style="color:#A6ACCD;">git clone https://github.com/0glabs/0g-chain.git</span></span>
<span class="line"><span style="color:#A6ACCD;">cd 0g-chain</span></span>
<span class="line"><span style="color:#A6ACCD;">git checkout v0.5.3</span></span>
<span class="line"><span style="color:#A6ACCD;">git submodule update --init</span></span>
<span class="line"><span style="color:#A6ACCD;">make install</span></span>
<span class="line"><span style="color:#A6ACCD;">0gchaind version</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>2. Set-up Wallet</strong></p><p>Change <code>WalletName</code> to your real wallet name</p>`,4),h=s("p",null,"To create a new wallet, use the following command. Don\u2019t forget to save the mnemonic",-1),m=s("div",{class:"language-"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"0gchaind keys add WalletName")]),t(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),_=s("p",null,"To restore existing wallet, use the following command",-1),D=s("div",{class:"language-"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"0gchaind keys add WalletName --recover")]),t(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),v=s("p",null,"If you use metamask or EVM, use this command to restore your wallet",-1),k=s("div",{class:"language-"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"0gchaind keys add WalletName --eth --recover")]),t(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}})])])])],-1),b=e(`<p><strong>3. Stake</strong></p><p>change <code>WalletName</code> to your real wallet name</p><p>and you can change <code>--node https://evmrpc-testnet.0g.ai</code> to your favorite RPC</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">0gchaind tx staking delegate &quot;0gvaloper1aax7fz4d904m0ul3e9v3lfq7cdzzw3ka8qk3mr&quot; 30000000ua0gi --from &quot;WalletName&quot; --chain-id zgtendermint_16600-2 --gas-adjustment 1.5 --gas auto --gas-prices 0.00252ua0gi  --node https://evmrpc-testnet.0g.ai -y</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div>`,4),f=e(`<h2 id="one-click-command-install" tabindex="-1">One-Click Command Install <a class="header-anchor" href="#one-click-command-install" aria-hidden="true">#</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">bash &lt;(wget -qO- https://astrostake.xyz/0GDA_Node_One_Click.sh)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="manual-install" tabindex="-1">Manual Install <a class="header-anchor" href="#manual-install" aria-hidden="true">#</a></h2><ol><li><strong>Install necessary packages</strong></li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo apt-get update &amp;&amp; sudo apt-get install clang cmake build-essential pkg-config libssl-dev protobuf-compiler llvm llvm-dev</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ol start="2"><li><strong>Install go</strong></li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">cd $HOME &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">ver=&quot;1.22.0&quot; &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">wget &quot;https://golang.org/dl/go$ver.linux-amd64.tar.gz&quot; &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo rm -rf /usr/local/go &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo tar -C /usr/local -xzf &quot;go$ver.linux-amd64.tar.gz&quot; &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">rm &quot;go$ver.linux-amd64.tar.gz&quot; &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">echo &quot;export PATH=$PATH:/usr/local/go/bin:$HOME/go/bin&quot; &gt;&gt; ~/.bash_profile &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">source ~/.bash_profile &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">go version</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ol start="3"><li><strong>Install rust</strong></li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">curl --proto &#39;=https&#39; --tlsv1.2 -sSf https://sh.rustup.rs | sh</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">. &quot;$HOME/.cargo/env&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ol start="4"><li><strong>Clone 0G DA Node</strong></li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">git clone -b v1.1.3 https://github.com/0glabs/0g-da-node.git</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ol start="5"><li><strong>Build project</strong></li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">cd $HOME/0g-da-node</span></span>
<span class="line"><span style="color:#A6ACCD;">git stash</span></span>
<span class="line"><span style="color:#A6ACCD;">git fetch --all --tags</span></span>
<span class="line"><span style="color:#A6ACCD;">git checkout v1.1.3</span></span>
<span class="line"><span style="color:#A6ACCD;">git submodule update --init</span></span>
<span class="line"><span style="color:#A6ACCD;">cargo build --release</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ol start="6"><li><strong>Add Params</strong></li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">./dev_support/download_params.sh</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ol start="7"><li><strong>Generate BLS private key</strong></li></ol><div class="warning custom-block"><p class="custom-block-title">Important!</p><p>After generating your BLS Private Key, make sure to <strong>save it securely</strong>.</p><ul><li>The key is only displayed <strong>once</strong> when generated.</li><li>If you lose it, <strong>it cannot be recovered</strong>.</li><li>If you ever need to <strong>run your DA Node again</strong> or <strong>migrate to a new VPS</strong>, you <strong>must use the same BLS Private Key</strong> to maintain your node identity.</li><li>If the key is lost, you\u2019ll need to <strong>generate a new BLS Private Key</strong> and <strong>register a new wallet</strong>, which means starting over with a new node identity.</li></ul></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">cargo run --bin key-gen</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ol start="8"><li><strong>Edit Config</strong></li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">nano $HOME/0g-da-node/config.toml</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">Edit Config File</p><p>Fill: <code>socket_address</code> <code>signer_bls_private_key</code> <code>signet_eth_private_key</code> <code>miner_eth_private_key</code></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">log_level = &quot;info&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">data_path = &quot;./db/&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"># path to downloaded params folder</span></span>
<span class="line"><span style="color:#A6ACCD;">encoder_params_dir = &quot;params/&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"># grpc server listen address</span></span>
<span class="line"><span style="color:#A6ACCD;">grpc_listen_address = &quot;0.0.0.0:34000&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"># chain eth rpc endpoint</span></span>
<span class="line"><span style="color:#A6ACCD;">eth_rpc_endpoint = &quot;https://evmrpc-testnet.0g.ai&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"># public grpc service socket address to register in DA contract</span></span>
<span class="line"><span style="color:#A6ACCD;"># ip:34000 (keep same port as the grpc listen address)</span></span>
<span class="line"><span style="color:#A6ACCD;"># or if you have dns, fill your dns</span></span>
<span class="line"><span style="color:#A6ACCD;">socket_address = &quot;VPS_Public_IP:34000&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"># data availability contract to interact with</span></span>
<span class="line"><span style="color:#A6ACCD;">da_entrance_address = &quot;0x857C0A28A8634614BB2C96039Cf4a20AFF709Aa9&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"># deployed block number of da entrance contract</span></span>
<span class="line"><span style="color:#A6ACCD;">start_block_number = 940000</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"># signer BLS private key</span></span>
<span class="line"><span style="color:#A6ACCD;">signer_bls_private_key = &quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"># signer eth account private key</span></span>
<span class="line"><span style="color:#A6ACCD;">signer_eth_private_key = &quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"># miner eth account private key, (could be the same as \`signer_eth_private_key\`, but not recommended)</span></span>
<span class="line"><span style="color:#A6ACCD;">miner_eth_private_key = &quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"># whether to enable data availability sampling</span></span>
<span class="line"><span style="color:#A6ACCD;">enable_das = &quot;true&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></div><ol start="9"><li><strong>Create service</strong></li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo tee /etc/systemd/system/0gda.service &gt; /dev/null &lt;&lt;EOF</span></span>
<span class="line"><span style="color:#A6ACCD;">[Unit]</span></span>
<span class="line"><span style="color:#A6ACCD;">Description=0G-DA Node</span></span>
<span class="line"><span style="color:#A6ACCD;">After=network.target</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">[Service]</span></span>
<span class="line"><span style="color:#A6ACCD;">User=$USER</span></span>
<span class="line"><span style="color:#A6ACCD;">WorkingDirectory=$HOME/0g-da-node</span></span>
<span class="line"><span style="color:#A6ACCD;">ExecStart=$HOME/0g-da-node/target/release/server --config $HOME/0g-da-node/config.toml</span></span>
<span class="line"><span style="color:#A6ACCD;">Restart=always</span></span>
<span class="line"><span style="color:#A6ACCD;">RestartSec=10</span></span>
<span class="line"><span style="color:#A6ACCD;">LimitNOFILE=65535</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">[Install]</span></span>
<span class="line"><span style="color:#A6ACCD;">WantedBy=multi-user.target</span></span>
<span class="line"><span style="color:#A6ACCD;">EOF</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ol start="10"><li><strong>Start service</strong></li></ol><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo systemctl daemon-reload &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl enable 0gda &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl start 0gda &amp;&amp; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl status 0gda</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="useful-commands" tabindex="-1">Useful Commands <a class="header-anchor" href="#useful-commands" aria-hidden="true">#</a></h2><p><strong>Check Logs</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo journalctl -u 0gda -f -o cat</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>Change RPC</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">bash &lt;(wget -qO- https://astrostake.xyz/change_da_rpc.sh)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="stop-and-delete-node" tabindex="-1">Stop and delete node <a class="header-anchor" href="#stop-and-delete-node" aria-hidden="true">#</a></h2><div class="danger custom-block"><p class="custom-block-title">Critical: Backup Your BLS Key!</p><p>Do not lose this key \u2014 it is required to run your DA Node.</p><p>Location <code>$HOME/0g-da-node/config.toml</code></p></div><p>Stop</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo systemctl stop 0gda</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>Delete</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo systemctl disable 0gda</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo rm /etc/systemd/system/0gda.service</span></span>
<span class="line"><span style="color:#A6ACCD;">rm -rf $HOME/0g-da-node</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>.</p>`,38);function q(S,w,T,x,N,E){const l=o("PluginTabsTab"),p=o("PluginTabs");return r(),i("div",null,[C,s("div",u,[s("details",null,[g,s("div",A,[y,a(p,null,{default:n(()=>[a(l,{label:"Create Wallet"},{default:n(()=>[h,m]),_:1}),a(l,{label:"Restore Wallet"},{default:n(()=>[_,D]),_:1}),a(l,{label:"Restore Wallet (EVM)"},{default:n(()=>[v,k]),_:1})]),_:1}),b])])]),f])}const O=c(d,[["render",q]]);export{P as __pageData,O as default};
