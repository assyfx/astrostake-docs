import{_ as d,C as o,c,o as r,aj as l,G as e,w as n,j as s,a as i}from"./chunks/framework.wTHDseTJ.js";const C=JSON.parse('{"title":"Storage Node Setup Guide","description":"","frontmatter":{},"headers":[],"relativePath":"0g-labs/storage-node.md","filePath":"0g-labs/storage-node.md","lastUpdated":1745486746000}'),g={name:"0g-labs/storage-node.md"};function h(u,a,b,m,k,v){const t=o("PluginTabsTab"),p=o("PluginTabs");return r(),c("div",null,[a[4]||(a[4]=l('<h1 id="storage-node-setup-guide" tabindex="-1">Storage Node Setup Guide <a class="header-anchor" href="#storage-node-setup-guide" aria-label="Permalink to &quot;Storage Node Setup Guide&quot;">​</a></h1><p>This guide will help you set up a Storage Node for OG Labs. For official documentation, check <a href="https://docs.0g.ai/run-a-node/storage-node" target="_blank" rel="noreferrer">here</a>.</p><h2 id="requirements" tabindex="-1">Requirements <a class="header-anchor" href="#requirements" aria-label="Permalink to &quot;Requirements&quot;">​</a></h2><ul><li>Memory: 16 GB RAM</li><li>CPU: 4 Cores</li><li>Disk: 500GB / 1TB NVME SSD</li><li>Bandwidth: 100 Mbps (Download / Upload)</li></ul><h2 id="one-click-command-install" tabindex="-1">One Click Command Install <a class="header-anchor" href="#one-click-command-install" aria-label="Permalink to &quot;One Click Command Install&quot;">​</a></h2>',5)),e(p,{sharedStateKey:"ab"},{default:n(()=>[e(t,{label:"Standard config"},{default:n(()=>a[0]||(a[0]=[s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",null,"bash <(wget -qO- https://astrostake.xyz/0g_storage_node_one_click_standard.sh)")])])])],-1)])),_:1}),e(t,{label:"Turbo config"},{default:n(()=>a[1]||(a[1]=[s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",null,"bash <(wget -qO- https://astrostake.xyz/0g_storage_node_one_click_turbo.sh)")])])])],-1)])),_:1})]),_:1}),a[5]||(a[5]=l(`<h2 id="one-click-command-update" tabindex="-1">One Click Command Update <a class="header-anchor" href="#one-click-command-update" aria-label="Permalink to &quot;One Click Command Update&quot;">​</a></h2><p>Version: <code>v0.8.7</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>bash &lt;(wget -qO- https://astrostake.xyz/storage_node_update.sh)</span></span></code></pre></div><h2 id="manual-install" tabindex="-1">Manual Install <a class="header-anchor" href="#manual-install" aria-label="Permalink to &quot;Manual Install&quot;">​</a></h2><ol><li><strong>Install necessary packages</strong></li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo apt-get update</span></span>
<span class="line"><span>sudo apt-get install clang cmake build-essential openssl pkg-config libssl-dev</span></span></code></pre></div><ol start="2"><li><strong>Install go</strong></li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cd $HOME &amp;&amp; \\</span></span>
<span class="line"><span>ver=&quot;1.22.0&quot; &amp;&amp; \\</span></span>
<span class="line"><span>wget &quot;https://golang.org/dl/go$ver.linux-amd64.tar.gz&quot; &amp;&amp; \\</span></span>
<span class="line"><span>sudo rm -rf /usr/local/go &amp;&amp; \\</span></span>
<span class="line"><span>sudo tar -C /usr/local -xzf &quot;go$ver.linux-amd64.tar.gz&quot; &amp;&amp; \\</span></span>
<span class="line"><span>rm &quot;go$ver.linux-amd64.tar.gz&quot; &amp;&amp; \\</span></span>
<span class="line"><span>echo &quot;export PATH=$PATH:/usr/local/go/bin:$HOME/go/bin&quot; &gt;&gt; ~/.bash_profile &amp;&amp; \\</span></span>
<span class="line"><span>source ~/.bash_profile &amp;&amp; \\</span></span>
<span class="line"><span>go version</span></span></code></pre></div><ol start="3"><li><strong>Install rustup</strong></li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>curl --proto &#39;=https&#39; --tlsv1.2 -sSf https://sh.rustup.rs | sh</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/.cargo/env&quot;</span></span></code></pre></div><ol start="4"><li><strong>Download and Install 0G Storage Node</strong></li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>git clone -b v0.8.7 https://github.com/0glabs/0g-storage-node.git</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cd $HOME/0g-storage-node</span></span>
<span class="line"><span>git stash</span></span>
<span class="line"><span>git fetch --all --tags</span></span>
<span class="line"><span>git checkout v0.8.7</span></span>
<span class="line"><span>git submodule update --init</span></span>
<span class="line"><span>cargo build --release</span></span></code></pre></div><ol start="5"><li><strong>Set config (choose one)</strong></li></ol>`,15)),e(p,{sharedStateKey:"ab"},{default:n(()=>[e(t,{label:"Standard config"},{default:n(()=>a[2]||(a[2]=[s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",null,"rm -rf $HOME/0g-storage-node/run/config.toml")]),i(`
`),s("span",{class:"line"},[s("span",null,"curl -o $HOME/0g-storage-node/run/config.toml https://astrostake.xyz/0g_storage_standard_config.toml")])])])],-1)])),_:1}),e(t,{label:"Turbo config"},{default:n(()=>a[3]||(a[3]=[s("div",{class:"language- vp-adaptive-theme"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"}),s("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",null,"rm -rf $HOME/0g-storage-node/run/config.toml")]),i(`
`),s("span",{class:"line"},[s("span",null,"curl -o $HOME/0g-storage-node/run/config.toml https://astrostake.xyz/0g_storage_turbo_config.toml")])])])],-1)])),_:1})]),_:1}),a[6]||(a[6]=l(`<p>check <code>miner_key</code> and input your private key</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>nano $HOME/0g-storage-node/run/config.toml</span></span></code></pre></div><ol start="6"><li><strong>Create service</strong></li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo tee /etc/systemd/system/zgs.service &gt; /dev/null &lt;&lt;EOF</span></span>
<span class="line"><span>[Unit]</span></span>
<span class="line"><span>Description=ZGS Node</span></span>
<span class="line"><span>After=network.target</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Service]</span></span>
<span class="line"><span>User=$USER</span></span>
<span class="line"><span>WorkingDirectory=$HOME/0g-storage-node/run</span></span>
<span class="line"><span>ExecStart=$HOME/0g-storage-node/target/release/zgs_node --config $HOME/0g-storage-node/run/config.toml</span></span>
<span class="line"><span>Restart=on-failure</span></span>
<span class="line"><span>RestartSec=10</span></span>
<span class="line"><span>LimitNOFILE=65535</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Install]</span></span>
<span class="line"><span>WantedBy=multi-user.target</span></span>
<span class="line"><span>EOF</span></span></code></pre></div><ol start="7"><li><strong>Star service</strong></li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo systemctl daemon-reload &amp;&amp; sudo systemctl enable zgs &amp;&amp; sudo systemctl start zgs</span></span></code></pre></div><h2 id="optional-install-snapshot" tabindex="-1">Optional: <a href="https://docs.astrostake.xyz/0g-labs/snapshot" target="_blank" rel="noreferrer">Install Snapshot</a> <a class="header-anchor" href="#optional-install-snapshot" aria-label="Permalink to &quot;Optional: [Install Snapshot](https://docs.astrostake.xyz/0g-labs/snapshot)&quot;">​</a></h2><h2 id="useful-commands" tabindex="-1">Useful Commands <a class="header-anchor" href="#useful-commands" aria-label="Permalink to &quot;Useful Commands&quot;">​</a></h2><p><strong>Check Full Logs</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>tail -f ~/0g-storage-node/run/log/zgs.log.$(TZ=UTC date +%Y-%m-%d)</span></span></code></pre></div><p><strong>Check Blocks and Peers</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>source &lt;(curl -s https://astrostake.xyz/check_block.sh)</span></span></code></pre></div><p><strong>Change RPC</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>bash &lt;(wget -qO- https://astrostake.xyz/change_storage_rpc.sh)</span></span></code></pre></div><h2 id="stop-and-delete-node" tabindex="-1">Stop and delete node <a class="header-anchor" href="#stop-and-delete-node" aria-label="Permalink to &quot;Stop and delete node&quot;">​</a></h2><p>Stop</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo systemctl stop zgs</span></span></code></pre></div><p>Delete</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>sudo systemctl disable zgs</span></span>
<span class="line"><span>sudo rm /etc/systemd/system/zgs.service</span></span>
<span class="line"><span>rm -rf $HOME/0g-storage-node</span></span></code></pre></div>`,19))])}const _=d(g,[["render",h]]);export{C as __pageData,_ as default};
