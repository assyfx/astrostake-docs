import{_ as i,c,d as s,w as n,a as o,r as t,o as r,b as a,e}from"./app.002226a4.js";const T=JSON.parse('{"title":"Validator Node","description":"","frontmatter":{},"headers":[{"level":2,"title":"Kebutuhan","slug":"kebutuhan","link":"#kebutuhan","children":[]},{"level":2,"title":"Instalasi","slug":"instalasi","link":"#instalasi","children":[{"level":3,"title":"2. Auto-install script dari ITRocket \u{1F680}","slug":"_2-auto-install-script-dari-itrocket-\u{1F680}","link":"#_2-auto-install-script-dari-itrocket-\u{1F680}","children":[]}]},{"level":2,"title":"Hapus Node","slug":"hapus-node","link":"#hapus-node","children":[]}],"relativePath":"id/0g-labs/validator.md"}'),d={name:"id/0g-labs/validator.md"},u=o(`<h1 id="validator-node" tabindex="-1">Validator Node <a class="header-anchor" href="#validator-node" aria-hidden="true">#</a></h1><p>Panduan ini akan bantu kamu untuk setup Validator Node di jaringan 0G Labs.<br> Untuk dokumentasi resmi, cek <a href="https://docs.0g.ai/run-a-node/validator-node" target="_blank" rel="noreferrer">di sini.</a></p><h2 id="kebutuhan" tabindex="-1">Kebutuhan <a class="header-anchor" href="#kebutuhan" aria-hidden="true">#</a></h2><ul><li>CPU: 8 Core</li><li>Memori: 64 GB RAM</li><li>Penyimpanan: 1 TB NVME</li><li>Bandwidth: 100 Mbps (Download / Upload)</li></ul><h2 id="instalasi" tabindex="-1">Instalasi <a class="header-anchor" href="#instalasi" aria-hidden="true">#</a></h2><p><strong>1. Install dependency</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo apt update &amp;&amp; sudo apt upgrade -y</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt install curl git wget htop tmux build-essential jq make lz4 gcc unzip -y</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="highlight"><h3 id="_2-auto-install-script-dari-itrocket-\u{1F680}" tabindex="-1">2. Auto-install script dari ITRocket \u{1F680} <a class="header-anchor" href="#_2-auto-install-script-dari-itrocket-\u{1F680}" aria-hidden="true">#</a></h3><p>Cepat, stabil, dan langsung to the point \u2014 seperti yang biasa kita suka di <strong>AstroStake</strong>.</p><p><em>Kenapa harus buat dari nol kalau udah ada yang rapi dan terbukti?</em><br><strong>Terima kasih banyak buat <a href="https://itrocket.net" target="_blank" rel="noreferrer">ITRocket</a> yang bikin semuanya simpel dan praktis!</strong></p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">source</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;(</span><span style="color:#C3E88D;">curl -s https://itrocket.net/api/testnet/og/autoinstall/</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div></div><p><strong>3. Setup Wallet</strong></p>`,9),C=a("p",null,"Untuk membuat wallet baru, gunakan perintah ini. Jangan lupa simpan mnemonic-nya!",-1),h=a("div",{class:"language-"},[a("button",{title:"Copy Code",class:"copy"}),a("span",{class:"lang"}),a("pre",{class:"shiki"},[a("code",null,[a("span",{class:"line"},[a("span",{style:{color:"#A6ACCD"}},"0gchaind keys add $WALLET")]),e(`
`),a("span",{class:"line"},[a("span",{style:{color:"#A6ACCD"}})])])])],-1),A=a("p",null,"Kalau sudah punya wallet sebelumnya:",-1),g=a("div",{class:"language-"},[a("button",{title:"Copy Code",class:"copy"}),a("span",{class:"lang"}),a("pre",{class:"shiki"},[a("code",null,[a("span",{class:"line"},[a("span",{style:{color:"#A6ACCD"}},"0gchaind keys add $WALLET --recover")]),e(`
`),a("span",{class:"line"},[a("span",{style:{color:"#A6ACCD"}})])])])],-1),y=a("p",null,"Untuk pengguna metamask atau wallet EVM:",-1),k=a("div",{class:"language-"},[a("button",{title:"Copy Code",class:"copy"}),a("span",{class:"lang"}),a("pre",{class:"shiki"},[a("code",null,[a("span",{class:"line"},[a("span",{style:{color:"#A6ACCD"}},"0gchaind keys add $WALLET --eth --recover")]),e(`
`),a("span",{class:"line"},[a("span",{style:{color:"#A6ACCD"}})])])])],-1),_=o(`<p><strong>Simpan alamat wallet dan validator</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">WALLET_ADDRESS=$(0gchaind keys show $WALLET -a)</span></span>
<span class="line"><span style="color:#A6ACCD;">VALOPER_ADDRESS=$(0gchaind keys show $WALLET --bech val -a)</span></span>
<span class="line"><span style="color:#A6ACCD;">echo &quot;export WALLET_ADDRESS=&quot;$WALLET_ADDRESS &gt;&gt; $HOME/.bash_profile</span></span>
<span class="line"><span style="color:#A6ACCD;">echo &quot;export VALOPER_ADDRESS=&quot;$VALOPER_ADDRESS &gt;&gt; $HOME/.bash_profile</span></span>
<span class="line"><span style="color:#A6ACCD;">source $HOME/.bash_profile</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>4. Cek status blok sync</strong></p><p>Script dari ITRocket</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">#!/bin/bash</span></span>
<span class="line"><span style="color:#A6ACCD;">rpc_port=$(grep -m 1 -oP &#39;^laddr = &quot;\\K[^&quot;]+&#39; &quot;$HOME/.0gchain/config/config.toml&quot; | cut -d &#39;:&#39; -f 3)</span></span>
<span class="line"><span style="color:#A6ACCD;">while true; do</span></span>
<span class="line"><span style="color:#A6ACCD;">  local_height=$(curl -s localhost:$rpc_port/status | jq -r &#39;.result.sync_info.latest_block_height&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">  network_height=$(curl -s https://og-testnet-rpc.itrocket.net/status | jq -r &#39;.result.sync_info.latest_block_height&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  if ! [[ &quot;$local_height&quot; =~ ^[0-9]+$ ]] || ! [[ &quot;$network_height&quot; =~ ^[0-9]+$ ]]; then</span></span>
<span class="line"><span style="color:#A6ACCD;">    echo -e &quot;mError: Data blok tidak valid. Coba lagi...&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    sleep 5</span></span>
<span class="line"><span style="color:#A6ACCD;">    continue</span></span>
<span class="line"><span style="color:#A6ACCD;">  fi</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  blocks_left=$((network_height - local_height))</span></span>
<span class="line"><span style="color:#A6ACCD;">  echo -e &quot;mNode Height:m $local_height m| Network Height:m $network_height m| Sisa Blok:m $blocks_left&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  sleep 5</span></span>
<span class="line"><span style="color:#A6ACCD;">done</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>5. Cek status node</strong></p><p>Pastikan hasilnya <code>&quot;catching_up&quot;: false</code></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">0gchaind status 2&gt;&amp;1 | jq</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>6. Buat Validator</strong></p><p>Pastikan saldo kamu cukup. Ganti <code>wallet_name</code> dengan nama wallet kamu.</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">0gchaind q bank balances $(0gchaind keys show &quot;wallet_name&quot; -a)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">Edit Info Validator</p><p>Edit <code>moniker</code>, <code>identity</code>, <code>website</code>, dan <code>details</code> sesuai keinginan.</p><p><code>amount</code> 1000000ua0gi = 1 A0GI</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">0gchaind tx staking create-validator \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--amount 1000000ua0gi \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--from $WALLET \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--commission-rate 0.1 \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--commission-max-rate 0.2 \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--commission-max-change-rate 0.01 \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--min-self-delegation 1 \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--pubkey $(0gchaind tendermint show-validator) \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--moniker &quot;test&quot; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--identity &quot;&quot; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--website &quot;&quot; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--details &quot;I love blockchain \u2764\uFE0F&quot; \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--chain-id zgtendermint_16600-2 \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--gas-adjustment 1.5 --gas auto --gas-prices 0.00252ua0gi \\</span></span>
<span class="line"><span style="color:#A6ACCD;">-y</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div></div><p><strong>Cek info validator</strong></p><p>Ganti <code>wallet_name</code> dengan wallet kamu:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">0gchaind q staking validator $(0gchaind keys show &quot;wallet_name&quot; --bech val -a)</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="hapus-node" tabindex="-1">Hapus Node <a class="header-anchor" href="#hapus-node" aria-hidden="true">#</a></h2><div class="danger custom-block"><p class="custom-block-title">\u26A0\uFE0F Penting: Backup Kunci Validator Kamu!</p><p>Jangan sampai hilang \u2014 kunci ini wajib untuk jalankan validator kamu.</p><p>Lokasi file: <code>/root/.0gchain/config/priv_validator_key.json</code></p></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo systemctl stop 0gchaind</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl disable 0gchaind</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo rm -rf /etc/systemd/system/0gchaind.service</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo rm $(which 0gchaind)</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo rm -rf $HOME/.0gchain</span></span>
<span class="line"><span style="color:#A6ACCD;">sed -i &quot;/OG_/d&quot; $HOME/.bash_profile</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div>`,18);function b(m,D,v,f,q,$){const l=t("PluginTabsTab"),p=t("PluginTabs");return r(),c("div",null,[u,s(p,null,{default:n(()=>[s(l,{label:"Buat Wallet"},{default:n(()=>[C,h]),_:1}),s(l,{label:"Pulihkan Wallet"},{default:n(()=>[A,g]),_:1}),s(l,{label:"Pulihkan Wallet (EVM)"},{default:n(()=>[y,k]),_:1})]),_:1}),_])}const w=i(d,[["render",b]]);export{T as __pageData,w as default};
