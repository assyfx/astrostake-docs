import{_ as i,c as a,o as t,aj as e}from"./chunks/framework.wTHDseTJ.js";const k=JSON.parse('{"title":"Troubleshooting Guide for Storage and Validator Nodes","description":"Common errors and solutions when running storage nodes and validator nodes with AstroStake.","frontmatter":{"title":"Troubleshooting Guide for Storage and Validator Nodes","description":"Common errors and solutions when running storage nodes and validator nodes with AstroStake."},"headers":[],"relativePath":"0g-labs/troubleshooting-storage-node.md","filePath":"0g-labs/troubleshooting-storage-node.md","lastUpdated":1746787449000}'),n={name:"0g-labs/troubleshooting-storage-node.md"};function o(l,s,r,p,h,d){return t(),a("div",null,s[0]||(s[0]=[e(`<h1 id="üõ†Ô∏è-troubleshooting-guide" tabindex="-1">üõ†Ô∏è Troubleshooting Guide <a class="header-anchor" href="#üõ†Ô∏è-troubleshooting-guide" aria-label="Permalink to &quot;üõ†Ô∏è  Troubleshooting Guide&quot;">‚Äã</a></h1><p>This guide covers common issues and how to solve them for Storage Nodes.</p><hr><div class="custom-collapse"><details><summary>Known Issue: Node Stuck Catching Up or Sync Very Slow</summary><div class="collapse-content"><p><strong>Symptoms:</strong></p><ul><li>Storage Node synchronization becomes noticeably slower as it approaches the latest block height.</li><li>After reaching near the latest block, synchronization speed may slow down dramatically or the node may fall behind again.</li></ul><p><strong>Cause:</strong></p><ul><li>This is a known situation related to the early stage of the Galileo (v3) chain deployment.</li><li>Block finalization by validators is operating normally and at expected speed.</li><li>However, storage node synchronization depends heavily on RPC infrastructure.</li><li>Currently, the official RPC server limits the number of allowed requests to maintain stability, causing synchronization slowdowns.</li><li>Third-party validator and RPC infrastructure expansion is not yet open to the public.</li></ul><p><strong>Status:</strong></p><ul><li>The development team is aware of this limitation and is working on improving RPC serving capacity and scaling network infrastructure.</li><li>Performance is expected to naturally improve as more validators and third-party RPC providers join the network.</li></ul><p><strong>What You Can Do:</strong></p><ul><li>Keep your storage node running and allow it to sync gradually.</li><li>In some cases, restarting your node may temporarily improve syncing, but it is not a guaranteed solution.</li><li>No immediate action is required from node operators.</li><li>Synchronization performance will improve automatically with future network upgrades.</li></ul></div></details></div><div class="custom-collapse"><details><summary>Failed to Start ZGS Node (403 Forbidden RPC)</summary><div class="collapse-content"><p><strong>Symptoms:</strong></p><ul><li><code>zgs</code> service fails to start.</li><li>Log error:<div class="language-log vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">log</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Failed to start zgs node</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Unable to get chain id: JsonRpcClientError (expected value, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">403</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Forbidden)</span></span></code></pre></div></li></ul><p><strong>Cause:</strong></p><ul><li>The RPC endpoint in the <code>config.toml</code> file is invalid, down, or blocked (403 Forbidden).</li></ul><p><strong>Solution:</strong></p><ol><li><p>Edit your configuration file:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">nano</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/0g-storage-node/run/config.toml</span></span></code></pre></div></li><li><p>Ensure <code>blockchain_rpc_endpoint</code> is pointing to a valid JSON-RPC endpoint.</p><p>Example:</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">blockchain_rpc_endpoint = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://evmrpc-testnet.0g.ai&quot;</span></span></code></pre></div></li><li><p>Use the quick RPC changer script if needed:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -qO-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://astrostake.xyz/change_storage_rpc.sh)</span></span></code></pre></div></li><li><p>Restart the node:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zgs</span></span></code></pre></div></li></ol></div></details></div><div class="custom-collapse"><details><summary>Additional Step: Manually Check RPC Endpoint</summary><div class="collapse-content"><p>If you encounter a 403 Forbidden error, you can manually verify if your RPC endpoint is responding correctly using the following <code>curl</code> command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://evmrpc-testnet.0g.ai</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;eth_blockNumber&quot;,&quot;params&quot;:[],&quot;id&quot;:1}&#39;</span></span></code></pre></div><p>expected output:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;jsonrpc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;result&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x875dc&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // current block number in hex</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>or</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;jsonrpc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;result&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0x875dc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>This confirms that the RPC is active and reachable.</p></div></details></div><hr><h1 id="üìö-resources" tabindex="-1">üìö Resources <a class="header-anchor" href="#üìö-resources" aria-label="Permalink to &quot;üìö Resources&quot;">‚Äã</a></h1><ul><li><a href="/0g-labs/storage-node-v3-chain">Storage Node Setup Guide</a></li></ul><p>If you encounter an issue not listed here, contact AstroStake on <a href="https://discord.com/users/248382810631438337" target="_blank" rel="noreferrer">Discord</a>.</p><p>Or ask to the community on <a href="https://discord.gg/AkMD56bHK7" target="_blank" rel="noreferrer">Discord</a>.</p>`,11)]))}const u=i(n,[["render",o]]);export{k as __pageData,u as default};
